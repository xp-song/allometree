<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Make predictions on simulated data using single-species linear models — ss_simulate • allometree</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Make predictions on simulated data using single-species linear models — ss_simulate"><meta property="og:description" content="Wrapper function that runs ss_predict() on simulated data. Data is simulated
for each species based on the range of the predictor variable used to fit the
model, which can be extrapolated to values defined by the user. The
corresponding model object in models will be used to make predictions on the
simulated data. The user may choose to run this function on one or multiple
species, using the argument select_sp."><meta property="og:image" content="https://xp-song.github.io/allometree/reference/figures/logo.png"><meta property="og:image:alt" content="Allometric Scaling of Urban Trees"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@song_xiaoping"><meta name="twitter:site" content="https://xp-song.github.io"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-NXXKGPFSL6"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NXXKGPFSL6');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">allometree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/allometree.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/single-species_models.html">Single-species linear models</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/xp-song/allometree/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make predictions on simulated data using single-species linear models</h1>
    <small class="dont-index">Source: <a href="https://github.com/xp-song/allometree/blob/HEAD/R/ss_simulate.R" class="external-link"><code>R/ss_simulate.R</code></a></small>
    <div class="hidden name"><code>ss_simulate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Wrapper function that runs <code><a href="ss_predict.html">ss_predict()</a></code> on simulated data. Data is simulated
for each species based on the range of the predictor variable used to fit the
model, which can be extrapolated to values defined by the user. The
corresponding model object in <code>models</code> will be used to make predictions on the
simulated data. The user may choose to run this function on one or multiple
species, using the argument <code>select_sp</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ss_simulate</span><span class="op">(</span>
  <span class="va">ref_table</span>,
  <span class="va">models</span>,
  select_sp <span class="op">=</span> <span class="cn">NULL</span>,
  level <span class="op">=</span> <span class="fl">0.95</span>,
  length.out <span class="op">=</span> <span class="fl">100</span>,
  extrapolate <span class="op">=</span> <span class="cn">NULL</span>,
  species <span class="op">=</span> <span class="st">"species"</span>,
  predictor_min <span class="op">=</span> <span class="st">"predictor_min"</span>,
  predictor_max <span class="op">=</span> <span class="st">"predictor_max"</span>,
  response_min <span class="op">=</span> <span class="st">"response_min"</span>,
  response_max <span class="op">=</span> <span class="st">"response_max"</span>,
  cf <span class="op">=</span> <span class="st">"correctn_factor"</span>,
  geom_mean <span class="op">=</span> <span class="st">"response_geom_mean"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ref_table</dt>
<dd><p>Dataframe containing model information. It should include
columns for <code>species</code>, <code>predictor_min</code>, <code>predictor_max</code>, <code>cf</code>, and
<code>geom_mean</code>.</p></dd>
<dt>models</dt>
<dd><p>A named list of each species' linear regression models.
<code>names(models)</code> should correspond to species names in <code>ref_table</code>.</p></dd>
<dt>select_sp</dt>
<dd><p>Character vector of species names, if you want to run this
function only for selected species in <code>ref_table</code>. Defaults to <code>NULL</code>, to
run function across all species.</p></dd>
<dt>level</dt>
<dd><p>Level of confidence for the prediction interval. Defaults to
<code>0.95</code>.</p></dd>
<dt>length.out</dt>
<dd><p>Number of new predictor values to generate for each species.
Defaults to 100. Set a higher value for greater resolution at the cost of computational time.</p></dd>
<dt>extrapolate</dt>
<dd><p>Numeric vector of 2 elements (e.g. <code>c(0,4)</code>), representing
the upper and lower bounds of extrapolation. Defaults to <code>NULL</code> for no
extrapolation.</p></dd>
<dt>species</dt>
<dd><p>Column name in <code>ref_table</code> for the name of species. Defaults to
<code>species</code>.</p></dd>
<dt>predictor_min</dt>
<dd><p>Column name in <code>ref_table</code> for minimum value of the
predictor variable used to fit the model. Defaults to <code>predictor_min</code>.</p></dd>
<dt>predictor_max</dt>
<dd><p>Column name in <code>ref_table</code> for maximum value of the
predictor variable used to fit the model. Defaults to <code>predictor_max</code>.</p></dd>
<dt>response_min</dt>
<dd><p>Column name in <code>ref_table</code> for minimum value of the
response variable used to fit the model. Defaults to <code>response_min</code>.</p></dd>
<dt>response_max</dt>
<dd><p>Column name in <code>ref_table</code> for maximum value of the
response variable used to fit the model. Defaults to <code>response_max</code>.</p></dd>
<dt>cf</dt>
<dd><p>Column name in <code>ref_table</code> for the bias correction factor. Defaults
to <code>correctn_factor</code>.</p></dd>
<dt>geom_mean</dt>
<dd><p>Column name in <code>ref_table</code> for the geometric mean of response
variable that was used in to fit the <code>models</code>. Defaults to
<code>response_geom_mean</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A dataframe with columns:</p><dl><dt>species</dt>
<dd><p>Name of tree species.</p></dd>

<dt>predictor</dt>
<dd><p>Variable used to make predictions.</p></dd>

<dt>fit</dt>
<dd><p>Predicted value.</p></dd>

<dt>lwr</dt>
<dd><p>Lower bound of the prediction interval, based on the input argument <code>level</code>.</p></dd>

<dt>upr</dt>
<dd><p>Upper bound of the prediction interval, based on the input argument <code>level</code>.</p></dd>

<dt>extrapolated</dt>
<dd><p>Indicates whether the predictions are based on
extrapolated values. Either 'High', 'Low', or 'No' (not extrapolated).</p></dd>
 
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The model associated with each species is used to predict values for the
response variable, as well as it's prediction interval. Necessary
bias-corrections are made for species with models that have a transformed
response variable.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="ss_predict.html">ss_predict()</a></code> to make predictions for all species in a dataset using
single-species linear models.</p>
<p>Other single-species model functions: 
<code><a href="ss_modelfit_multi.html">ss_modelfit_multi</a>()</code>,
<code><a href="ss_modelfit.html">ss_modelfit</a>()</code>,
<code><a href="ss_modelselect_multi.html">ss_modelselect_multi</a>()</code>,
<code><a href="ss_modelselect.html">ss_modelselect</a>()</code>,
<code><a href="ss_predict.html">ss_predict</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># first select best-fit model for all species in data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">urbantrees</span><span class="op">)</span></span>
<span class="r-in"><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="ss_modelselect_multi.html">ss_modelselect_multi</a></span><span class="op">(</span><span class="va">urbantrees</span>, species <span class="op">=</span> <span class="st">'species'</span>,</span>
<span class="r-in">                                response <span class="op">=</span> <span class="st">'height'</span>, predictor <span class="op">=</span> <span class="st">'diameter'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># simulate for all species</span></span>
<span class="r-in"><span class="fu">ss_simulate</span><span class="op">(</span>ref_table <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">ss_models_info</span>,</span>
<span class="r-in">            models <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">ss_models</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># simulate for selected species</span></span>
<span class="r-in"><span class="fu">ss_simulate</span><span class="op">(</span>ref_table <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">ss_models_info</span>,</span>
<span class="r-in">            models <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">ss_models</span>,</span>
<span class="r-in">            selected_spp <span class="op">=</span> <span class="st">'Albizia saman'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># simulate with extrapolated values</span></span>
<span class="r-in"><span class="fu">ss_simulate</span><span class="op">(</span>ref_table <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">ss_models_info</span>,</span>
<span class="r-in">            models <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">ss_models</span>,</span>
<span class="r-in">            extrapolate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://xp-song.github.io" class="external-link">Xiao Ping Song</a>, Hao Ran Lai.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

